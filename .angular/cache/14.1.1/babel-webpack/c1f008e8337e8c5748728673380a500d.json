{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { SolicitanteDTO } from '../../models/solicitante';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/servicios/tramites.service\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\n\nfunction DatossolicitanteComponent_option_81_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const l_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", l_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", l_r2, \" \");\n  }\n}\n\nfunction DatossolicitanteComponent_div_100_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Valores Requeridos Vacios\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DatossolicitanteComponent_div_100_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Formato de email Incorrecto\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DatossolicitanteComponent_div_100_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Formato de numero telefonico Incorrecto \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DatossolicitanteComponent_div_100_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"div\", 38);\n    i0.ɵɵtemplate(2, DatossolicitanteComponent_div_100_div_2_Template, 2, 0, \"div\", 39);\n    i0.ɵɵtemplate(3, DatossolicitanteComponent_div_100_div_3_Template, 2, 0, \"div\", 39);\n    i0.ɵɵtemplate(4, DatossolicitanteComponent_div_100_div_4_Template, 2, 0, \"div\", 39);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    let tmp_1_0;\n    let tmp_2_0;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r1.getErrors()) == null ? null : tmp_0_0.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r1.getErrors()) == null ? null : tmp_1_0.email);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r1.getErrors()) == null ? null : tmp_2_0.phoneNumber);\n  }\n}\n\nexport let DatossolicitanteComponent = /*#__PURE__*/(() => {\n  class DatossolicitanteComponent {\n    constructor(router, tramitesService, toast) {\n      this.router = router;\n      this.tramitesService = tramitesService;\n      this.toast = toast;\n      this.getSubmit = new EventEmitter();\n      this.captcha = {\n        data: '',\n        text: ''\n      };\n      this.limaDistricts = ['Miraflores', 'Pueblo Libre', 'San Isidro', 'San Miguel', 'San Juan de Lurigancho', 'San Juan de Miraflores', 'San Luis', 'Tamburillo', 'Pajaritos', 'Lurigancho', 'Chosica', 'Pucusana', 'Juanjui', 'Contamana', 'Calana', 'Cercado', 'Pajarillo', 'Iluminado', 'Pucara', 'José María Arguedas', 'Lurín', 'Los Cedros'];\n      this.solicitanteForm = new FormGroup({\n        tipoContribuyente: new FormControl('', [Validators.required]),\n        ruc: new FormControl('', [Validators.required]),\n        razonSocial: new FormControl('', [Validators.required]),\n        provincia: new FormControl('', [Validators.required]),\n        departamento: new FormControl('', [Validators.required]),\n        distrito: new FormControl('', [Validators.required]),\n        direccion: new FormControl('', [Validators.required]),\n        telefono: new FormControl('', [Validators.required, this.numberValidator(/^9[0-9]{8}$/)]),\n        email: new FormControl('', [Validators.required, Validators.email]),\n        distritoNotificacion: new FormControl('', [Validators.required]),\n        direccionNotificacion: new FormControl('', [Validators.required]),\n        regimenTributario: new FormControl('', [Validators.required])\n      });\n    }\n\n    ngOnInit() {\n      const objecto = new SolicitanteDTO(this.preload);\n      console.log('objecto', objecto);\n      this.solicitanteForm.setValue({ ...objecto\n      }); // this.solicitanteForm.controls['razonSocial'];\n      // this.solicitanteForm.controls['direccion'];\n      // this.solicitanteForm.controls['departamento'];\n      // this.solicitanteForm.controls['provincia'];\n      // this.solicitanteForm.controls['distrito'];\n      // this.tramitesService.getCaptcha().subscribe((data) => {\n      //   this.captcha = data;\n      //   console.log(this.captcha);\n      // });\n    }\n\n    goHome() {\n      this.getSubmit.emit({\n        action: 'home'\n      });\n    }\n\n    goBack() {\n      this.getSubmit.emit({\n        action: 'back'\n      });\n    }\n\n    goNext() {\n      if (!this.ifErrors()) {\n        return this.getSubmit.emit({\n          action: 'submit',\n          data: this.solicitanteForm.value\n        });\n      }\n\n      this.toast.error('Por favor complete todos los campos obligatorios');\n    }\n\n    searchRUC() {\n      this.tramitesService.getContribuyenteByRUC(this.solicitanteForm.value.ruc).subscribe(data => {\n        this.solicitanteForm.setValue({\n          ruc: this.solicitanteForm.value.ruc,\n          razonSocial: data.nombre,\n          direccion: data.direccion,\n          departamento: data.departamento,\n          provincia: data.provincia,\n          distrito: data.distrito,\n          email: '',\n          telefono: '',\n          distritoNotificacion: '',\n          direccionNotificacion: '',\n          regimenTributario: '',\n          tipoContribuyente: ''\n        });\n      });\n    }\n\n    ifErrors() {\n      if (Object.keys(this.getErrors()) && Object.keys(this.getErrors()).length !== 0) {\n        return true;\n      }\n\n      return false;\n    }\n\n    getErrors() {\n      const errors = Object.keys(this.solicitanteForm.controls).map(key => {\n        const controlErrors = this.solicitanteForm.get(key).errors;\n        return controlErrors;\n      }).reduce((a, b) => {\n        return { ...a,\n          ...b\n        };\n      });\n      return errors;\n    }\n\n    numberValidator(nameRe) {\n      return control => {\n        return nameRe.test(control.value) ? null : {\n          phoneNumber: true\n        };\n      };\n    }\n\n  }\n\n  DatossolicitanteComponent.ɵfac = function DatossolicitanteComponent_Factory(t) {\n    return new (t || DatossolicitanteComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.TramitesService), i0.ɵɵdirectiveInject(i3.ToastrService));\n  };\n\n  DatossolicitanteComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DatossolicitanteComponent,\n    selectors: [[\"app-datossolicitante\"]],\n    inputs: {\n      preload: \"preload\"\n    },\n    outputs: {\n      getSubmit: \"getSubmit\"\n    },\n    decls: 109,\n    vars: 3,\n    consts: [[1, \"container-sm\", \"shadow-sm\", \"p-20\", \"bg-body\", \"rounded\", \"mx-auto\", 2, \"width\", \"1500px\", \"height\", \"auto\"], [1, \"row\"], [1, \"col-12\", \"fs-5\", \"bd-highlight\", 2, \"background-color\", \"#0167a7\", \"color\", \"white\"], [1, \"col-12\", 2, \"background-color\", \"rgb(255, 255, 255)\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"col-4\"], [\"for\", \"exampleInputEmail1\", 1, \"form-label\"], [1, \"input-group\"], [\"type\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"formControlName\", \"ruc\", 1, \"form-control\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", 3, \"click\"], [1, \"fa-solid\", \"fa-magnifying-glass\"], [1, \"text-red-600\"], [\"type\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"formControlName\", \"razonSocial\", 1, \"form-control\"], [\"type\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"formControlName\", \"direccion\", 1, \"form-control\"], [\"type\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"formControlName\", \"departamento\", 1, \"form-control\"], [\"type\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"formControlName\", \"provincia\", 1, \"form-control\"], [\"type\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"formControlName\", \"distrito\", 1, \"form-control\"], [\"for\", \"disabledSelect\", 1, \"form-label\"], [\"id\", \"disabledSelect\", \"formControlName\", \"tipoContribuyente\", 1, \"form-select\"], [\"value\", \"\", \"selected\", \"\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"id\", \"disabledSelect\", \"formControlName\", \"regimenTributario\", 1, \"form-select\"], [\"value\", \"\"], [\"value\", \"3\"], [\"value\", \"4\"], [\"id\", \"disabledSelect\", \"formControlName\", \"distritoNotificacion\", 1, \"form-select\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"formControlName\", \"direccionNotificacion\", 1, \"form-control\"], [\"type\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"formControlName\", \"email\", 1, \"form-control\"], [\"type\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"formControlName\", \"telefono\", 1, \"form-control\"], [\"class\", \"errors px-2\", 4, \"ngIf\"], [1, \"mb-2\", \"mt-2\", 2, \"display\", \"flex\", \"justify-content\", \"space-between\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", 2, \"margin-right\", \"4px\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 2, \"margin-left\", \"4px\"], [3, \"value\"], [1, \"errors\", \"px-2\"], [1, \"bg-red-200\", \"text-red-600\", \"py-1\", \"px-2\", \"rounded-lg\", \"my-3\"], [4, \"ngIf\"]],\n    template: function DatossolicitanteComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n        i0.ɵɵtext(3, \" 2. Datos del Solicitante \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"div\", 1)(5, \"div\", 3)(6, \"form\", 4);\n        i0.ɵɵlistener(\"ngSubmit\", function DatossolicitanteComponent_Template_form_ngSubmit_6_listener() {\n          return ctx.goNext();\n        });\n        i0.ɵɵelementStart(7, \"div\", 1)(8, \"div\", 5)(9, \"label\", 6);\n        i0.ɵɵtext(10, \"N\\u00B0 RUC\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 7);\n        i0.ɵɵelement(12, \"input\", 8);\n        i0.ɵɵelementStart(13, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function DatossolicitanteComponent_Template_button_click_13_listener() {\n          return ctx.searchRUC();\n        });\n        i0.ɵɵelement(14, \"i\", 10);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(15, \"div\", 5)(16, \"label\", 6);\n        i0.ɵɵtext(17, \"Raz\\u00F3n Social \");\n        i0.ɵɵelementStart(18, \"span\", 11);\n        i0.ɵɵtext(19, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(20, \"input\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 5)(22, \"label\", 6);\n        i0.ɵɵtext(23, \"Direcci\\u00F3n \");\n        i0.ɵɵelementStart(24, \"span\", 11);\n        i0.ɵɵtext(25, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(26, \"input\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\", 5)(28, \"label\", 6);\n        i0.ɵɵtext(29, \"Departamento \");\n        i0.ɵɵelementStart(30, \"span\", 11);\n        i0.ɵɵtext(31, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(32, \"input\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"div\", 5)(34, \"label\", 6);\n        i0.ɵɵtext(35, \"Provincia \");\n        i0.ɵɵelementStart(36, \"span\", 11);\n        i0.ɵɵtext(37, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(38, \"input\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"div\", 5)(40, \"label\", 6);\n        i0.ɵɵtext(41, \"Distrito \");\n        i0.ɵɵelementStart(42, \"span\", 11);\n        i0.ɵɵtext(43, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(44, \"input\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"div\", 5)(46, \"label\", 17);\n        i0.ɵɵtext(47, \"Tipo de Contribuyente \");\n        i0.ɵɵelementStart(48, \"span\", 11);\n        i0.ɵɵtext(49, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(50, \"select\", 18)(51, \"option\", 19);\n        i0.ɵɵtext(52, \"--Seleccionar--\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"option\", 20);\n        i0.ɵɵtext(54, \"Persona Juridica\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(55, \"option\", 21);\n        i0.ɵɵtext(56, \"Persona Natural\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(57, \"div\", 5)(58, \"label\", 17);\n        i0.ɵɵtext(59, \"R\\u00E9gimen Tributario \");\n        i0.ɵɵelementStart(60, \"span\", 11);\n        i0.ɵɵtext(61, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(62, \"select\", 22)(63, \"option\", 23);\n        i0.ɵɵtext(64, \"--Seleccionar--\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(65, \"option\", 20);\n        i0.ɵɵtext(66, \"R\\u00E9gimen General (REG)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(67, \"option\", 21);\n        i0.ɵɵtext(68, \"R\\u00E9gimen Especial de Renta (RER)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(69, \"option\", 24);\n        i0.ɵɵtext(70, \"R\\u00E9gimen MYPE Tributario\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(71, \"option\", 25);\n        i0.ɵɵtext(72, \"Nuevo RUS\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(73, \"div\", 5)(74, \"label\", 17);\n        i0.ɵɵtext(75, \"Distrito de Notificaci\\u00F3n \");\n        i0.ɵɵelementStart(76, \"span\", 11);\n        i0.ɵɵtext(77, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(78, \"select\", 26)(79, \"option\", 19);\n        i0.ɵɵtext(80, \"--Seleccionar--\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(81, DatossolicitanteComponent_option_81_Template, 2, 2, \"option\", 27);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(82, \"div\", 5)(83, \"label\", 6);\n        i0.ɵɵtext(84, \"Direcci\\u00F3n de Notificaci\\u00F3n \");\n        i0.ɵɵelementStart(85, \"span\", 11);\n        i0.ɵɵtext(86, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(87, \"input\", 28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(88, \"div\", 5)(89, \"label\", 6);\n        i0.ɵɵtext(90, \"Correo Electr\\u00F3nico \");\n        i0.ɵɵelementStart(91, \"span\", 11);\n        i0.ɵɵtext(92, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(93, \"input\", 29);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(94, \"div\", 5)(95, \"label\", 6);\n        i0.ɵɵtext(96, \"N\\u00B0 Celular \");\n        i0.ɵɵelementStart(97, \"span\", 11);\n        i0.ɵɵtext(98, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(99, \"input\", 30);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(100, DatossolicitanteComponent_div_100_Template, 5, 3, \"div\", 31);\n        i0.ɵɵelementStart(101, \"div\", 32)(102, \"button\", 33);\n        i0.ɵɵlistener(\"click\", function DatossolicitanteComponent_Template_button_click_102_listener() {\n          return ctx.goHome();\n        });\n        i0.ɵɵtext(103, \" Cancelar \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(104, \"div\")(105, \"button\", 34);\n        i0.ɵɵlistener(\"click\", function DatossolicitanteComponent_Template_button_click_105_listener() {\n          return ctx.goBack();\n        });\n        i0.ɵɵtext(106, \" Atras \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(107, \"button\", 35);\n        i0.ɵɵtext(108, \" Siguiente \");\n        i0.ɵɵelementEnd()()()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"formGroup\", ctx.solicitanteForm);\n        i0.ɵɵadvance(75);\n        i0.ɵɵproperty(\"ngForOf\", ctx.limaDistricts);\n        i0.ɵɵadvance(19);\n        i0.ɵɵproperty(\"ngIf\", ctx.ifErrors());\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.FormControlName],\n    styles: [\".barranavegacioninicio[_ngcontent-%COMP%]{margin-top:0!important}\"]\n  });\n  return DatossolicitanteComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}