"use strict";(self.webpackChunkapp_IntegradorV=self.webpackChunkapp_IntegradorV||[]).push([[290],{4290:(Ne,h,p)=>{p.r(h),p.d(h,{AdminModule:()=>Me});var c=p(6571),m=p(6323),e=p(4263),Z=p(4673);function b(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"ul")(2,"li",9),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.logOut())}),e._uU(3," Cerrar Session "),e.qZA()()()}}let T=(()=>{class i{constructor(t,o){this.router=t,this.authService=o,this.toggleEvent=new e.vpe,this.dropIsShowed=!1}ngOnInit(){}onToggle(){this.toggleEvent.emit()}logOut(){this.authService.logOut()}getUser(){return this.authService.getLoggedUserName()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(Z.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-navbar"]],inputs:{dropIsShowed:"dropIsShowed"},outputs:{toggleEvent:"toggleEvent"},decls:9,vars:2,consts:[[1,"fixed","h-20","px-4","w-screen","top-0","left-0","flex","justify-between","items-center","bg-blue-600"],[1,"toggle",3,"click"],[1,"fa-solid","fa-bars"],[1,"relative"],[1,"flex","items-center","space-x-4","text-white","hover:",3,"click"],[1,"font-bold"],[1,"fa-solid","fa-user","text-xl"],["class","bg-white absolute rounded shadow right-0 px-2 py-2 w-48",4,"ngIf"],[1,"bg-white","absolute","rounded","shadow","right-0","px-2","py-2","w-48"],[1,"hover:bg-gray-200","px-2","cursor-pointer",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return o.onToggle()}),e._UZ(2,"i",2),e.qZA(),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return o.dropIsShowed=!o.dropIsShowed}),e.TgZ(5,"span",5),e._uU(6),e.qZA(),e._UZ(7,"i",6),e.qZA(),e.YNc(8,b,4,0,"div",7),e.qZA()()),2&t&&(e.xp6(6),e.Oqu(o.getUser()),e.xp6(2),e.Q6J("ngIf",o.dropIsShowed))},dependencies:[c.O5],styles:[".navbar[_ngcontent-%COMP%]{padding:0 36px;height:100px;width:100vw;position:fixed;top:0;box-shadow:0 .46875rem 2.1875rem #04091408,0 .9375rem 1.40625rem #04091408,0 .25rem .53125rem #0409140d,0 .125rem .1875rem #04091408}.toggle[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:0;background-color:#fff}.toggle[_ngcontent-%COMP%]:hover{background-color:#0409140d}.largeNav[_ngcontent-%COMP%]{margin-left:0}.shortNav[_ngcontent-%COMP%]{margin-left:200px}"]}),i})();function v(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"li",4),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.routeToMenu(a.ruta))}),e._uU(1),e.qZA()}if(2&i){const t=n.$implicit;e.xp6(1),e.Oqu(t.nombre)}}function x(i,n){if(1&i&&(e.TgZ(0,"ul"),e.YNc(1,v,2,1,"li",3),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.modules)}}function q(i,n){1&i&&(e.TgZ(0,"div",5),e._UZ(1,"i",6),e.qZA())}let A=(()=>{class i{constructor(t,o){this.loginService=t,this.router=o,this.sidebarIsOpen=!1,this.modules=[]}ngOnInit(){this.loginService.getModules(this.loginService.getTokenPayload().usuario.rol).subscribe(t=>{this.modules=t,this.routeToMenu(this.modules[0].ruta)})}routeToMenu(t){console.log(t),this.router.navigate([`/admin/${t}`])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z.e),e.Y36(m.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-sidebar"]],inputs:{sidebarIsOpen:"sidebarIsOpen"},decls:3,vars:3,consts:[[1,"sidebar","w-56","top-20","h-screen","fixed","py-4","px-2",3,"ngClass"],[4,"ngIf"],["class","h-100","style","display:  flex; justify-content: center; align-items: center;",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"h-100",2,"display","flex","justify-content","center","align-items","center"],[1,"fa-solid","fa-spinner","rotating",2,"font-size","32px"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,x,2,1,"ul",1),e.YNc(2,q,2,0,"div",2),e.qZA()),2&t&&(e.Q6J("ngClass",o.sidebarIsOpen?"left-0":"-left-56"),e.xp6(1),e.Q6J("ngIf",o.modules.length>=0),e.xp6(1),e.Q6J("ngIf",0==o.modules.length))},dependencies:[c.mk,c.sg,c.O5],styles:[".sidebar[_ngcontent-%COMP%]{height:100vh;background-color:#fff;box-shadow:0 .46875rem 2.1875rem #04091408,0 .9375rem 1.40625rem #04091408,0 .25rem .53125rem #0409140d,0 .125rem .1875rem #04091408}.closedSide[_ngcontent-%COMP%]{left:-200px}.openSide[_ngcontent-%COMP%]{left:0}ul[_ngcontent-%COMP%]{padding:0;list-style-type:none;display:flex;flex-direction:column;width:100%}ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{font-size:16px;font-weight:700;padding:10px;width:100%}ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#0409140d}li[_ngcontent-%COMP%]:not(:last-child){margin-bottom:3px}@keyframes rotating{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}.rotating[_ngcontent-%COMP%]{animation:rotating 2s linear infinite}"]}),i})(),C=(()=>{class i{constructor(){this.sideIsOpen=!0}ngOnInit(){}isToggled(){this.sideIsOpen=!this.sideIsOpen}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-admin"]],decls:4,vars:2,consts:[[1,"pt-24","pr-8","overflow-y-auto",3,"ngClass"],[3,"sidebarIsOpen"],[3,"toggleEvent"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA(),e._UZ(2,"app-sidebar",1),e.TgZ(3,"app-navbar",2),e.NdJ("toggleEvent",function(){return o.isToggled()}),e.qZA()),2&t&&(e.Q6J("ngClass",o.sideIsOpen?" sm:pl-64":"pl-8"),e.xp6(2),e.Q6J("sidebarIsOpen",o.sideIsOpen))},dependencies:[c.mk,m.lC,T,A],styles:[".wrapper[_ngcontent-%COMP%]{width:100vw;height:100vh;position:absolute;top:0;padding-top:120px;padding-bottom:40px;background-color:#f1f4f6}.contenido[_ngcontent-%COMP%]{width:100%;height:100%}"]}),i})();var l=p(2704),U=p(4283);let u=(()=>{class i{constructor(t){this.http=t}getUsers(){return this.http.get(`${l.Q}/users/user`)}getRoles(){return this.http.get(`${l.Q}/users/roles`)}addUser(t){return this.http.post(`${l.Q}/users/user`,t)}getSolicitudesRegistradas(){return this.http.get(`${l.Q}/solicitud/registradas`)}getSolicitudesValidadas(){return this.http.get(`${l.Q}/solicitud/validadas`)}getSolicitudesRiesgosEvaluados(){return this.http.get(`${l.Q}/solicitud/riesgos_evaluados`)}getSolicitudesPagadas(){return this.http.get(`${l.Q}/solicitud/pagadas`)}getSolicitudesPagadasValidadas(){return this.http.get(`${l.Q}/solicitud/pagadas_validadas`)}getSolicitudesEmitidas(){return this.http.get(`${l.Q}/solicitud/emitidas`)}getSolicitudesInspeccion(){return this.http.get(`${l.Q}/solicitud/inspeccion`)}getActividadesEstablecimiento(t){return this.http.get(`${l.Q}/establecimiento/actividad/${t}`)}getPisosEstablecimiento(t){return this.http.get(`${l.Q}/establecimientoPisos/establecimiento/${t}`)}getDocumentosBySolicitud(t){return this.http.get(`${l.Q}/solicitud_documento/solicitud/${t}`)}validarSolicitud(t){return this.http.put(`${l.Q}/solicitud/validar`,{id_solicitud:t})}getTiposRiesgos(){return this.http.get(`${l.Q}/niveles_riesgo`)}evaluarRiesgo(t,o){return this.http.put(`${l.Q}/niveles_riesgo/solicitud/${o}`,{id_riesgo:t})}validarPago(t){return this.http.put(`${l.Q}/solicitud/validar_pago`,{codigo:t})}generarLicencia(t){const o=new FormData;return Object.keys(t).forEach(s=>{o.append(s,t[s])}),this.http.post(`${l.Q}/files/licencia`,o)}realizarInspeccion(t){console.log(t);const o=new FormData;return Object.keys(t).forEach(s=>{o.append(s,t[s])}),this.http.post(`${l.Q}/files/inspeccion`,o)}updateUser(t){return this.http.put(`${l.Q}/users/user/${t.id_usuario}`,t)}deleteUser(t){return this.http.delete(`${l.Q}/users/user/${t}`)}rechazarSolicitud(t,o){return this.http.put(`${l.Q}/solicitud/rechazar/${t}`,{motivo:o})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(U.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var _=p(2610),r=p(3348);let w=(()=>{class i{constructor(t,o){this.adminService=t,this.toast=o,this.closed=new e.vpe}ngOnInit(){}onFileChanged(t){this.file=t.target.files[0]}getFileName(){return this.file?this.file.name:"Seleccionar archivo"}closeModal(){this.closed.emit()}generarLicencia(){this.adminService.realizarInspeccion({id_solicitud:this.solicitud.id_solicitud,id_establecimiento:this.solicitud.id_establecimiento,codigo_solicitud:this.solicitud.codigo_solicitud,comentario:this.comentario,inspeccion:this.file}).subscribe(t=>{this.toast.success("Licencia generada con \xe9xito"),this.closeModal()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u),e.Y36(_._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-realizar-inspeccion"]],inputs:{solicitud:"solicitud"},outputs:{closed:"closed"},decls:26,vars:3,consts:[[1,"w-screen","h-screen","bg-black","fixed","top-0","left-0","bg-opacity-10","flex","items-center","justify-center"],[1,"rounded-lg","shadow","bg-white","flex","flex-col","items-center","px-8","space-y-4","py-4","relative"],[1,"w-6","h-6","rounded-full","bg-gray-300","absolute","right-2","top-2","text-white",3,"click"],[1,"fa-solid","fa-xmark"],[1,"font-bold","text-2xl"],[1,"formulario","space-y-4"],[1,"flex","items-center","space-x-4","justify-between"],["for",""],["for","uploadFile",1,"px-4","py-1","bg-red-900","text-white","rounded-full","cursor-pointer"],[1,"fa-solid","fa-plus"],["type","file","id","uploadFile",1,"hidden",3,"change"],[1,"text-center"],[1,"font-bold"],[1,"flex","flex-col"],["for","",1,"mb-1"],["type","text","name","nombre","id","nombre",1,"border","focus:outline-none","px-2","py-1","rounded-lg",3,"ngModel","ngModelChange"],[1,"flex","items-center","justify-center"],[1,"bg-green-600","text-white","px-4","py-1","rounded-full",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.closeModal()}),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"span",4),e._uU(5,"Generar Resoluci\xf3n"),e.qZA(),e.TgZ(6,"span",4),e._uU(7),e.qZA(),e.TgZ(8,"div",5)(9,"div",6)(10,"label",7),e._uU(11,"Inspeccion: "),e.qZA(),e.TgZ(12,"label",8),e._uU(13," Subir "),e._UZ(14,"i",9),e.qZA(),e.TgZ(15,"input",10),e.NdJ("change",function(a){return o.onFileChanged(a)}),e.qZA()(),e.TgZ(16,"div",11)(17,"span",12),e._uU(18),e.qZA()(),e.TgZ(19,"div",13)(20,"label",14),e._uU(21,"Comentarios (opcional): "),e.qZA(),e.TgZ(22,"textarea",15),e.NdJ("ngModelChange",function(a){return o.comentario=a}),e.qZA()(),e.TgZ(23,"div",16)(24,"button",17),e.NdJ("click",function(){return o.generarLicencia()}),e._uU(25," Generar "),e.qZA()()()()()),2&t&&(e.xp6(7),e.Oqu(o.solicitud.codigo_solicitud),e.xp6(11),e.hij(" ",o.getFileName()," "),e.xp6(4),e.Q6J("ngModel",o.comentario))},dependencies:[r.Fj,r.JJ,r.On]}),i})(),g=(()=>{class i{transform(t,o,s){return s?t.filter(a=>{const d=String(a[o]).toLowerCase(),Je=s.toLowerCase();return d.indexOf(Je)>-1}):t}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"search",type:i,pure:!0}),i})();function O(i,n){1&i&&(e.TgZ(0,"div",7)(1,"div",8),e._uU(2,"No hay Registros Disponibles, Vuelva Mas Tarde"),e.qZA()())}function y(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"button",13),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.infoSelected(a.id_solicitud))}),e._uU(17," Inspeccion "),e.qZA()()()}if(2&i){const t=n.$implicit;e.xp6(2),e.Oqu(t.ruc),e.xp6(2),e.Oqu(t.tipotramite),e.xp6(2),e.Oqu(t.razon_social),e.xp6(2),e.Oqu(t.reg_tributario),e.xp6(2),e.Oqu(t.tipo_predio),e.xp6(2),e.Oqu(t.clasificacion),e.xp6(2),e.Oqu(t.zonificacion)}}function S(i,n){if(1&i&&(e.TgZ(0,"div",9)(1,"table",10)(2,"thead")(3,"tr")(4,"th",11),e._uU(5,"RUC"),e.qZA(),e.TgZ(6,"th",11),e._uU(7,"Tipo Tramite"),e.qZA(),e.TgZ(8,"th",11),e._uU(9,"Razon Social"),e.qZA(),e.TgZ(10,"th",11),e._uU(11,"Regimen Tributario"),e.qZA(),e.TgZ(12,"th",11),e._uU(13,"Tipo Predio"),e.qZA(),e.TgZ(14,"th",11),e._uU(15,"Clas."),e.qZA(),e.TgZ(16,"th",11),e._uU(17,"Zon"),e.qZA(),e.TgZ(18,"th",11),e._uU(19,"Elegir"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,y,18,7,"tr",12),e.ALo(22,"search"),e.qZA()()()),2&i){const t=e.oxw();e.xp6(21),e.Q6J("ngForOf",e.Dn7(22,1,t.solicitudes,"ruc",t.searchRUC))}}function I(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-realizar-inspeccion",14),e.NdJ("closed",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.closeModal())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("solicitud",t.selectedSolicitud)}}let M=(()=>{class i{constructor(t){this.adminService=t,this.solicitudes=[],this.infoIsOpen=!1,this.searchRUC=""}ngOnInit(){this.getData()}getData(){this.adminService.getSolicitudesInspeccion().subscribe(t=>{this.solicitudes=t})}infoSelected(t){this.selectedSolicitud=this.solicitudes.find(o=>o.id_solicitud==t),this.infoIsOpen=!0}closeModal(){this.infoIsOpen=!1,this.getData()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-inspeccion"]],decls:10,vars:3,consts:[[1,"row","align-items-start"],[1,"col"],[1,"text-2xl","font-bold"],["type","search","placeholder","Busqueda por RUC","aria-label","Search",1,"form-control","me-2"],["class","p-4",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"solicitud","closed",4,"ngIf"],[1,"p-4"],[1,"blankDiv"],[1,"table-responsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-info",3,"click"],[3,"solicitud","closed"]],template:function(t,o){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"h2",2),e._uU(4,"Inspecci\xf3n"),e.qZA()(),e.TgZ(5,"div",1),e._UZ(6,"input",3),e.qZA()(),e.YNc(7,O,3,0,"div",4),e.YNc(8,S,23,5,"div",5),e.qZA(),e.YNc(9,I,1,1,"app-realizar-inspeccion",6)),2&t&&(e.xp6(7),e.Q6J("ngIf",0==o.solicitudes.length),e.xp6(1),e.Q6J("ngIf",o.solicitudes.length>0),e.xp6(1),e.Q6J("ngIf",o.infoIsOpen))},dependencies:[c.sg,c.O5,w,g],styles:[".blankDiv[_ngcontent-%COMP%]{padding:40px;border-radius:10px;box-shadow:0 .46875rem 2.1875rem #04091408,0 .9375rem 1.40625rem #04091408,0 .25rem .53125rem #0409140d,0 .125rem .1875rem #04091408}"]}),i})();function J(i,n){if(1&i&&(e.TgZ(0,"tr")(1,"th",10),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.m2)}}let N=(()=>{class i{constructor(t){this.adminService=t,this.closed=new e.vpe,this.pisos=[]}ngOnInit(){this.adminService.getPisosEstablecimiento(this.id_establecimiento).subscribe(t=>{console.log(t),this.pisos=t})}closeModal(){this.closed.emit()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-mostrar-pisos"]],inputs:{id_establecimiento:"id_establecimiento"},outputs:{closed:"closed"},decls:16,vars:1,consts:[[1,"z-20","fixed","top-0","left-0","w-screen","h-screen","flex","items-center","justify-center","bg-black","bg-opacity-75"],[1,"p-4","bg-white","rounded-lg","shadow","relative","w-96"],[1,"absolute","right-2","top-2","rounded-full","bg-gray-200","w-5","h-5","text-sm",3,"click"],[1,"fa-solid","fa-xmark"],[1,"text-xl","font-bold","mb-4"],[1,"table-responsive"],[1,"table"],[1,"table-primary"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.closeModal()}),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"h2",4),e._uU(5,"Cantidad de Pisos"),e.qZA(),e.TgZ(6,"div",5)(7,"table",6)(8,"thead")(9,"tr",7)(10,"th",8),e._uU(11,"N\xb0 Piso"),e.qZA(),e.TgZ(12,"th",8),e._uU(13,"Area"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,J,5,2,"tr",9),e.qZA()()()()()),2&t&&(e.xp6(15),e.Q6J("ngForOf",o.pisos))},dependencies:[c.sg]}),i})();function k(i,n){if(1&i&&(e.TgZ(0,"tr")(1,"th",10),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.codigo),e.xp6(2),e.Oqu(t.tipo_actividad),e.xp6(2),e.Oqu(t.nombre)}}let F=(()=>{class i{constructor(t){this.adminService=t,this.closed=new e.vpe,this.giros=[]}ngOnInit(){this.adminService.getActividadesEstablecimiento(this.id_establecimiento).subscribe(t=>{this.giros=t})}closeModal(){this.closed.emit()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-mostrar-giros"]],inputs:{id_establecimiento:"id_establecimiento"},outputs:{closed:"closed"},decls:20,vars:1,consts:[[1,"z-20","fixed","top-0","left-0","w-screen","h-screen","flex","items-center","justify-center","bg-black","bg-opacity-75"],[1,"px-8","py-4","bg-white","rounded-lg","shadow","relative"],[1,"absolute","right-2","top-2","rounded-full","bg-gray-200","w-5","h-5","text-sm",3,"click"],[1,"fa-solid","fa-xmark"],[1,"text-xl","font-bold","mb-4"],[1,"table-responsive"],[1,"table"],[1,"table-primary"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.closeModal()}),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"h2",4),e._uU(5,"Giros de Actividad Economica"),e.qZA(),e.TgZ(6,"div",5)(7,"table",6)(8,"thead")(9,"tr",7)(10,"th",8),e._uU(11,"N\xb0"),e.qZA(),e.TgZ(12,"th",8),e._uU(13,"Codigo"),e.qZA(),e.TgZ(14,"th",8),e._uU(15,"Tipo Actividad"),e.qZA(),e.TgZ(16,"th",8),e._uU(17,"Nombre Actividad"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,k,9,4,"tr",9),e.qZA()()()()()),2&t&&(e.xp6(19),e.Q6J("ngForOf",o.giros))},dependencies:[c.sg]}),i})(),R=(()=>{class i{constructor(t,o){this.adminService=t,this.toast=o,this.closed=new e.vpe,this.isValidating=!1}ngOnInit(){}validarSolicitud(){this.isValidating=!0,this.adminService.validarSolicitud(this.id_solicitud).subscribe(t=>{this.closeModal(!0),this.toast.success("Solicitud validada con \xe9xito")})}closeModal(t){this.closed.emit(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u),e.Y36(_._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-validar-solicitud"]],inputs:{id_solicitud:"id_solicitud"},outputs:{closed:"closed"},decls:9,vars:2,consts:[[1,"bg-black","bg-opacity-10","fixed","top-0","left-0","h-screen","w-screen","z-10","flex","items-center","justify-center"],[1,"rounded-lg","shadow","bg-white","p-4","felx","justify-center","space-y-4"],[1,"text-2xl","font-bold"],[1,"space-x-4","flex","justify-center"],[1,"rounded-full","px-4","py-1","bg-green-600","text-white","font-bold",3,"ngClass","click"],[1,"rounded-full","px-4","py-1","bg-red-600","text-white","font-bold",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"\xbfDesea Validar solicitud?"),e.qZA(),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){return o.validarSolicitud()}),e._uU(6),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return o.closeModal(!1)}),e._uU(8," Cancelar "),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("ngClass",o.isValidating?"animate-pulse":""),e.xp6(1),e.hij(" ",o.isValidating?"Validando":"Validar"," "))},dependencies:[c.mk]}),i})(),P=(()=>{class i{constructor(t,o){this.toast=t,this.adminService=o,this.closed=new e.vpe,this.isSavingUser=!1,this.rechazoForm=new r.cw({motivo:new r.NI("",[r.kI.required])})}ngOnInit(){}closeModal(){this.closed.emit()}onSubmit(){return this.rechazoForm.value.motivo&&this.rechazoForm.value.motivo.length>0?(this.isSavingUser=!0,this.rechazoForm.disable(),this.adminService.rechazarSolicitud(this.id_solicitud,this.rechazoForm.value.motivo).subscribe(t=>{this.rechazoForm.enable(),this.isSavingUser=!1,this.toast.success("Solicitud rechazada con \xe9xito"),this.closeModal()})):(console.log(this.rechazoForm.value.motivo),this.toast.error("Debe llenar todos los campos"))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_._W),e.Y36(u))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-rechazar-solicitud"]],inputs:{id_solicitud:"id_solicitud"},outputs:{closed:"closed"},decls:13,vars:2,consts:[[1,"bg-black/40","h-screen","w-screen","fixed","top-0","left-0","z-10","flex","items-center","justify-center"],[1,"bg-white","rounded-lg","px-4","py-4","w-96"],[1,"text-xl","font-bold"],[3,"formGroup","ngSubmit"],[1,"py-8"],[1,"w-full"],["placeholder","Ingresar Motivo","type","text","name","nombre","id","nombre","rows","4","formControlName","motivo",1,"w-full","resize-none","focus:outline-none","border","rounded","focus:border-blue-500","px-2","py-1"],[1,"flex","justify-between"],["type","button",1,"rounded-full","shadow","bg-cyan-500","text-white","px-2","py-1",3,"click"],["type","submit",1,"rounded-full","shadow","bg-red-500","text-white","px-2","py-1",3,"ngClass"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3,"Rechazar Solicitud"),e.qZA(),e.TgZ(4,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"textarea",6),e.qZA()(),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){return o.closeModal()}),e._uU(10," Atras "),e.qZA(),e.TgZ(11,"button",9),e._uU(12," Rechazar "),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",o.rechazoForm),e.xp6(7),e.Q6J("ngClass",o.isSavingUser?"animate-pulse":""))},dependencies:[c.mk,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),i})();function Q(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"th",10),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.openFile(a.link_file))}),e._UZ(9,"i",12),e.qZA()()()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.link_file),e.xp6(2),e.Oqu(t.nombre)}}let z=(()=>{class i{constructor(t){this.adminService=t,this.documentos=[],this.closed=new e.vpe}ngOnInit(){this.adminService.getDocumentosBySolicitud(this.id_solicitud).subscribe(t=>{this.documentos=t,console.log(t)})}closeModal(){this.closed.emit()}openFile(t){window.open(`https://docs.google.com/viewerng/viewer?url=https://storage.googleapis.com/app-geslic.appspot.com/documents/${this.codigo}/${t}`,"_blank")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-mostrar-documentos"]],inputs:{id_solicitud:"id_solicitud",codigo:"codigo"},outputs:{closed:"closed"},decls:20,vars:1,consts:[[1,"z-20","fixed","top-0","left-0","w-screen","h-screen","flex","items-center","justify-center","bg-black","bg-opacity-75"],[1,"p-4","bg-white","rounded-lg","shadow","relative","w-1/2"],[1,"absolute","right-2","top-2","rounded-full","bg-gray-200","w-5","h-5","text-sm",3,"click"],[1,"fa-solid","fa-xmark"],[1,"text-xl","font-bold","mb-4"],[1,"table-responsive"],[1,"table"],[1,"table-primary"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"bg-yellow-500","text-white","rounded","w-6","h-6","text-xs",3,"click"],[1,"fa-solid","fa-eye"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.closeModal()}),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"h2",4),e._uU(5,"Cantidad de Pisos"),e.qZA(),e.TgZ(6,"div",5)(7,"table",6)(8,"thead")(9,"tr",7)(10,"th",8),e._uU(11,"N\xb0"),e.qZA(),e.TgZ(12,"th",8),e._uU(13,"Nombre Documento"),e.qZA(),e.TgZ(14,"th",8),e._uU(15,"Tipo Documento"),e.qZA(),e.TgZ(16,"th",8),e._uU(17,"Acciones"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,Q,10,3,"tr",9),e.qZA()()()()()),2&t&&(e.xp6(19),e.Q6J("ngForOf",o.documentos))},dependencies:[c.sg]}),i})();function E(i,n){if(1&i&&(e.TgZ(0,"option",11),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.id_riesgo),e.xp6(1),e.AsE(" ",t.nombre," -- ",t.tasa," ")}}let V=(()=>{class i{constructor(t,o){this.adminService=t,this.toast=o,this.closed=new e.vpe,this.riesgos=[],this.rNiv=""}ngOnInit(){this.adminService.getTiposRiesgos().subscribe(t=>{console.log(t),this.riesgos=t})}evaluarSolicitud(){console.log(this.rNiv),this.rNiv?this.adminService.evaluarRiesgo(this.rNiv,this.id_solicitud).subscribe(t=>{this.toast.success("Solicitud evaluada con \xe9xito"),this.closeModal(!0)}):this.toast.error("Debe seleccionar un riesgo")}closeModal(t){this.closed.emit(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u),e.Y36(_._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-evaluar-riesgo"]],inputs:{id_solicitud:"id_solicitud"},outputs:{closed:"closed"},decls:16,vars:2,consts:[[1,"bg-black","bg-opacity-10","fixed","top-0","left-0","h-screen","w-screen","z-10","flex","items-center","justify-center"],[1,"rounded-lg","shadow","bg-white","p-4","flex","flex-col","items-center","space-y-4"],[1,"text-2xl","font-bold","border-b","pb-2"],[1,"space-x-4"],[1,"font-bold"],[1,"focus:outline-none","px-4","py-2","shadow","rounded","border",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"space-x-4","flex","justify-center"],[1,"rounded-full","px-4","py-1","bg-green-600","text-white","font-bold",3,"click"],[1,"rounded-full","px-4","py-1","bg-red-600","text-white","font-bold",3,"click"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"Evaluar Riesgo"),e.qZA(),e.TgZ(4,"div",3)(5,"span",4),e._uU(6,"Nivel De Riesgo:"),e.qZA(),e.TgZ(7,"select",5),e.NdJ("ngModelChange",function(a){return o.rNiv=a}),e.TgZ(8,"option",6),e._uU(9,"--Seleccionar--"),e.qZA(),e.YNc(10,E,2,3,"option",7),e.qZA()(),e.TgZ(11,"div",8)(12,"button",9),e.NdJ("click",function(){return o.evaluarSolicitud()}),e._uU(13," Evaluar "),e.qZA(),e.TgZ(14,"button",10),e.NdJ("click",function(){return o.closeModal(!1)}),e._uU(15," Cancelar "),e.qZA()()()()),2&t&&(e.xp6(7),e.Q6J("ngModel",o.rNiv),e.xp6(3),e.Q6J("ngForOf",o.riesgos))},dependencies:[c.sg,r.YN,r.Kr,r.EJ,r.JJ,r.On]}),i})();var Y=p(4702);function D(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",8)(2,"span"),e._uU(3,"Tasa:"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"div",8)(7,"span"),e._uU(8,"Voucher:"),e.qZA(),e.TgZ(9,"button",9),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openFile(s.voucher.voucher))}),e._UZ(10,"i",10),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(5),e.Oqu(t.voucher.tasa)}}let G=(()=>{class i{constructor(t,o,s){this.consultasService=t,this.adminService=o,this.toast=s,this.isValidating=!1,this.closed=new e.vpe,this.voucher={}}ngOnInit(){this.consultasService.getSolicitudByCodigoPagada(this.codigo).subscribe(t=>{console.log(t),Object.keys(t).length>0&&(this.voucher=t)})}validarPago(){this.isValidating=!0,this.adminService.validarPago(this.codigo).subscribe(t=>{this.isValidating=!1,this.toast.success(t.message),this.closeModal(!0)})}closeModal(t){this.closed.emit(t)}openFile(t){window.open(`https://docs.google.com/viewerng/viewer?url=https://storage.googleapis.com/app-geslic.appspot.com/documents/vouchers/${this.codigo}/${t}`,"_blank")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Y.H),e.Y36(u),e.Y36(_._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-validar-pago-modal"]],inputs:{codigo:"codigo"},outputs:{closed:"closed"},decls:12,vars:4,consts:[[1,"bg-black","bg-opacity-10","fixed","top-0","left-0","h-screen","w-screen","z-10","flex","items-center","justify-center"],[1,"rounded-lg","shadow","bg-white","p-4","flex","flex-col","justify-center","items-center","space-y-4"],[1,"text-2xl","font-bold"],[1,"font-bold"],[4,"ngIf"],[1,"space-x-4","flex","justify-center"],[1,"rounded-full","px-4","py-1","bg-green-600","text-white","font-bold",3,"ngClass","click"],[1,"rounded-full","px-4","py-1","bg-red-600","text-white","font-bold",3,"click"],[1,"space-x-4"],[1,"w-6","h-6","rounded","shadow","bg-yellow-600","text-white","font-bold",3,"click"],[1,"fa-solid","fa-eye"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"Evaluar Pago de "),e.TgZ(4,"span",3),e._uU(5),e.qZA()(),e.YNc(6,D,11,1,"div",4),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return o.validarPago()}),e._uU(9),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return o.closeModal(!1)}),e._uU(11," Cancelar "),e.qZA()()()()),2&t&&(e.xp6(5),e.Oqu(o.voucher.codigo_solicitud),e.xp6(1),e.Q6J("ngIf",o.voucher.voucher),e.xp6(2),e.Q6J("ngClass",o.isValidating?"animate-pulse":""),e.xp6(1),e.hij(" ",o.isValidating?"Validando":"Validar"," "))},dependencies:[c.mk,c.O5]}),i})();function $(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.validarSolicitud())}),e._uU(1," Validar "),e.qZA()}}function j(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.evaluarSolicitud())}),e._uU(1," Evaluar "),e.qZA()}}function L(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.rechazarSolicitud())}),e._uU(1," Rechazar "),e.qZA()}}function K(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.validarPago())}),e._uU(1," Validar Pago "),e.qZA()}}function H(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-rechazar-solicitud",28),e.NdJ("closed",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cerrarModal())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("id_solicitud",t.solicitud.id_solicitud)}}function B(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-mostrar-giros",29),e.NdJ("closed",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cerrarModal())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("id_establecimiento",t.solicitud.id_establecimiento)}}function X(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-mostrar-pisos",29),e.NdJ("closed",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cerrarModal())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("id_establecimiento",t.solicitud.id_establecimiento)}}function W(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-mostrar-documentos",30),e.NdJ("closed",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cerrarModal())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("id_solicitud",t.solicitud.id_solicitud)("codigo",t.solicitud.codigo_solicitud)}}function ee(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-validar-solicitud",28),e.NdJ("closed",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.cerrarValidacion(s))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("id_solicitud",t.solicitud.id_solicitud)}}function te(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-evaluar-riesgo",28),e.NdJ("closed",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.cerrarEvaluacion(s))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("id_solicitud",t.solicitud.id_solicitud)}}function ie(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-validar-pago-modal",31),e.NdJ("closed",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.cerrarPago(s))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("codigo",t.solicitud.codigo_solicitud)}}let f=(()=>{class i{constructor(){this.closed=new e.vpe,this.isGirosOpen=!1,this.isPisosOpen=!1,this.isDocumentosOpen=!1,this.isValidarOpen=!1,this.isRiesgoOpen=!1,this.isValidarPagoOpen=!1,this.isRechazarSolicitudOpen=!1}ngOnInit(){console.log(this.solicitud)}closeModal(){this.closed.emit()}verPisos(){this.isPisosOpen=!0}verGiros(){this.isGirosOpen=!0}verDocumentos(){this.isDocumentosOpen=!0}cerrarModal(){this.isGirosOpen=!1,this.isPisosOpen=!1,this.isDocumentosOpen=!1,this.isValidarOpen=!1,this.isRiesgoOpen=!1,this.isValidarPagoOpen=!1,this.isRechazarSolicitudOpen=!1}validarSolicitud(){this.isValidarOpen=!0}evaluarSolicitud(){this.isRiesgoOpen=!0}rechazarSolicitud(){this.isRechazarSolicitudOpen=!0}validarPago(){this.isValidarPagoOpen=!0}cerrarValidacion(t){t?this.closeModal():this.isValidarOpen=!1}cerrarEvaluacion(t){t?this.closeModal():this.isRiesgoOpen=!1}cerrarPago(t){t?this.closeModal():this.isValidarPagoOpen=!1}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-informacion-solicitud"]],inputs:{solicitud:"solicitud"},outputs:{closed:"closed"},decls:194,vars:43,consts:[[1,"fixed","top-0","left-0","h-screen","w-screen","bg-black","bg-opacity-10","p-4","z-10","flex","justify-center","items-center"],[1,"bg-white","px-8","py-4","shadow","rounded-lg","w-1/2","relative","space-y-2","text-xs"],[1,"absolute","right-2","top-2","rounded-full","bg-gray-200","w-5","h-5",3,"click"],[1,"fa-solid","fa-xmark"],[1,"w-full","border-1","border-gray-500"],[1,"w-full","bg-blue-500","text-white","px-4","py-2","text-lg"],[1,"p-2"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-4","flex","flex-col"],[1,"font-bold"],[1,""],[1,"capitalize"],[1,"col-span-8","flex","flex-col"],[1,"col-span-12","flex","justify-end"],[1,"rounded-full","bg-red-900","text-white","font-bold","px-4","py-1",3,"click"],[1,"w-full","bg-blue-500","text-white","px-8","py-2","text-lg"],[1,"col-span-1","flex","flex-col"],[1,"col-span-12","flex","justify-end","space-x-4"],["button","",1,"rounded-full","bg-red-900","text-white","font-bold","px-4","py-1",3,"click"],[1,"flex","justify-center","space-x-2"],["class","rounded-full bg-green-600 text-white font-bold px-4 py-1",3,"click",4,"ngIf"],["class","rounded-full bg-red-600 text-white font-bold px-4 py-1",3,"click",4,"ngIf"],[3,"id_solicitud","closed",4,"ngIf"],[3,"id_establecimiento","closed",4,"ngIf"],[3,"id_solicitud","codigo","closed",4,"ngIf"],[3,"codigo","closed",4,"ngIf"],[1,"rounded-full","bg-green-600","text-white","font-bold","px-4","py-1",3,"click"],[1,"rounded-full","bg-red-600","text-white","font-bold","px-4","py-1",3,"click"],[3,"id_solicitud","closed"],[3,"id_establecimiento","closed"],[3,"id_solicitud","codigo","closed"],[3,"codigo","closed"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.closeModal()}),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5),e._uU(6," Datos de Solicitud "),e.qZA(),e.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"span",9),e._uU(11,"Tipo de Contribuyente"),e.qZA(),e.TgZ(12,"span",10),e._uU(13),e.qZA()(),e.TgZ(14,"div",8)(15,"span",9),e._uU(16,"RUC"),e.qZA(),e.TgZ(17,"span",10),e._uU(18),e.qZA()(),e.TgZ(19,"div",8)(20,"span",9),e._uU(21,"Razon Social"),e.qZA(),e.TgZ(22,"span",11),e._uU(23),e.qZA()(),e.TgZ(24,"div",12)(25,"span",9),e._uU(26,"Direccion"),e.qZA(),e.TgZ(27,"span",10),e._uU(28),e.qZA()(),e.TgZ(29,"div",8)(30,"span",9),e._uU(31,"Distrito"),e.qZA(),e.TgZ(32,"span",10),e._uU(33),e.qZA()(),e.TgZ(34,"div",8)(35,"span",9),e._uU(36,"Provincia"),e.qZA(),e.TgZ(37,"span",10),e._uU(38),e.qZA()(),e.TgZ(39,"div",8)(40,"span",9),e._uU(41,"Departamento"),e.qZA(),e.TgZ(42,"span",10),e._uU(43),e.qZA()(),e.TgZ(44,"div",8)(45,"span",9),e._uU(46,"Regimen Tributario"),e.qZA(),e.TgZ(47,"span",10),e._uU(48),e.qZA()(),e.TgZ(49,"div",8)(50,"span",9),e._uU(51,"Direccion Notificacion"),e.qZA(),e.TgZ(52,"span",10),e._uU(53),e.qZA()(),e.TgZ(54,"div",8)(55,"span",9),e._uU(56,"Distrito Notificacion"),e.qZA(),e.TgZ(57,"span",10),e._uU(58),e.qZA()(),e.TgZ(59,"div",8)(60,"span",9),e._uU(61,"Correo Electronico"),e.qZA(),e.TgZ(62,"span",10),e._uU(63),e.qZA()(),e.TgZ(64,"div",8)(65,"span",9),e._uU(66,"Telefono"),e.qZA(),e.TgZ(67,"span",10),e._uU(68),e.qZA()(),e.TgZ(69,"div",13)(70,"button",14),e.NdJ("click",function(){return o.verDocumentos()}),e._uU(71," Ver documentos "),e.qZA()()()()(),e.TgZ(72,"div",4)(73,"div",15),e._uU(74," Datos de Establecimiento "),e.qZA(),e.TgZ(75,"div",6)(76,"div",7)(77,"div",8)(78,"span",9),e._uU(79,"Direccion Establecimiento"),e.qZA(),e.TgZ(80,"span",10),e._uU(81),e.qZA()(),e.TgZ(82,"div",16)(83,"span",9),e._uU(84,"Numero"),e.qZA(),e.TgZ(85,"span",10),e._uU(86),e.qZA()(),e.TgZ(87,"div",16)(88,"span",9),e._uU(89,"Letra"),e.qZA(),e.TgZ(90,"span",10),e._uU(91),e.qZA()(),e.TgZ(92,"div",16)(93,"span",9),e._uU(94,"Int"),e.qZA(),e.TgZ(95,"span",10),e._uU(96),e.qZA()(),e.TgZ(97,"div",16)(98,"span",9),e._uU(99,"Let Int"),e.qZA(),e.TgZ(100,"span",10),e._uU(101),e.qZA()(),e.TgZ(102,"div",16)(103,"span",9),e._uU(104,"Mz"),e.qZA(),e.TgZ(105,"span",10),e._uU(106),e.qZA()(),e.TgZ(107,"div",16)(108,"span",9),e._uU(109,"Lt"),e.qZA(),e.TgZ(110,"span",10),e._uU(111),e.qZA()(),e.TgZ(112,"div",16)(113,"span",9),e._uU(114,"Bloque"),e.qZA(),e.TgZ(115,"span",10),e._uU(116),e.qZA()(),e.TgZ(117,"div",16)(118,"span",9),e._uU(119,"Dpto"),e.qZA(),e.TgZ(120,"span",10),e._uU(121),e.qZA()(),e.TgZ(122,"div",8)(123,"span",9),e._uU(124,"Nucleo Urbano"),e.qZA(),e.TgZ(125,"span",10),e._uU(126),e.qZA()(),e.TgZ(127,"div",8)(128,"span",9),e._uU(129,"Tipo Predio"),e.qZA(),e.TgZ(130,"span",10),e._uU(131),e.qZA()(),e.TgZ(132,"div",8)(133,"span",9),e._uU(134,"Clasificacion"),e.qZA(),e.TgZ(135,"span",10),e._uU(136),e.qZA()(),e.TgZ(137,"div",8)(138,"span",9),e._uU(139,"Zonificacion"),e.qZA(),e.TgZ(140,"span",10),e._uU(141),e.qZA()(),e.TgZ(142,"div",8)(143,"span",9),e._uU(144,"Nombre Comercial"),e.qZA(),e.TgZ(145,"span",10),e._uU(146),e.qZA()(),e.TgZ(147,"div",8)(148,"span",9),e._uU(149,"Area Total m2"),e.qZA(),e.TgZ(150,"span",10),e._uU(151),e.qZA()(),e.TgZ(152,"div",8)(153,"span",9),e._uU(154,"Aforo"),e.qZA(),e.TgZ(155,"span",10),e._uU(156),e.qZA()(),e.TgZ(157,"div",8)(158,"span",9),e._uU(159,"Antiguedad"),e.qZA(),e.TgZ(160,"span",10),e._uU(161),e.qZA()(),e.TgZ(162,"div",8)(163,"span",9),e._uU(164,"Referencia"),e.qZA(),e.TgZ(165,"span",10),e._uU(166),e.qZA()(),e.TgZ(167,"div",8)(168,"span",9),e._uU(169,"Cantidad Empleados"),e.qZA(),e.TgZ(170,"span",10),e._uU(171),e.qZA()(),e.TgZ(172,"div",8)(173,"span",9),e._uU(174,"N\xb0 Pisos"),e.qZA(),e.TgZ(175,"span",10),e._uU(176),e.qZA()(),e.TgZ(177,"div",17)(178,"button",18),e.NdJ("click",function(){return o.verGiros()}),e._uU(179," Giros "),e.qZA(),e.TgZ(180,"button",14),e.NdJ("click",function(){return o.verPisos()}),e._uU(181," Pisos "),e.qZA()()()()(),e.TgZ(182,"div",19),e.YNc(183,$,2,0,"button",20),e.YNc(184,j,2,0,"button",20),e.YNc(185,L,2,0,"button",21),e.YNc(186,K,2,0,"button",20),e.qZA()()(),e.YNc(187,H,1,1,"app-rechazar-solicitud",22),e.YNc(188,B,1,1,"app-mostrar-giros",23),e.YNc(189,X,1,1,"app-mostrar-pisos",23),e.YNc(190,W,1,2,"app-mostrar-documentos",24),e.YNc(191,ee,1,1,"app-validar-solicitud",22),e.YNc(192,te,1,1,"app-evaluar-riesgo",22),e.YNc(193,ie,1,1,"app-validar-pago-modal",25)),2&t&&(e.xp6(13),e.Oqu(o.solicitud.tipo_contribuyente),e.xp6(5),e.Oqu(o.solicitud.ruc),e.xp6(5),e.Oqu(o.solicitud.razon_social.toLowerCase()),e.xp6(5),e.Oqu(o.solicitud.direccion_contribuyente),e.xp6(5),e.Oqu(o.solicitud.distrito),e.xp6(5),e.Oqu(o.solicitud.provincia),e.xp6(5),e.Oqu(o.solicitud.departamento),e.xp6(5),e.Oqu(o.solicitud.reg_tributario),e.xp6(5),e.Oqu(o.solicitud.notif_direccion),e.xp6(5),e.Oqu(o.solicitud.notif_distrito),e.xp6(5),e.Oqu(o.solicitud.correo),e.xp6(5),e.Oqu(o.solicitud.telefono),e.xp6(13),e.Oqu(o.solicitud.direccion_establecimiento),e.xp6(5),e.Oqu(o.solicitud.numero),e.xp6(5),e.Oqu(o.solicitud.letra),e.xp6(5),e.Oqu(o.solicitud.interior),e.xp6(5),e.Oqu(o.solicitud.interior_let),e.xp6(5),e.Oqu(o.solicitud.mz),e.xp6(5),e.Oqu(o.solicitud.lote),e.xp6(5),e.Oqu(o.solicitud.bloque),e.xp6(5),e.Oqu(o.solicitud.dpto),e.xp6(5),e.Oqu(o.solicitud.urb),e.xp6(5),e.Oqu(o.solicitud.tipo_predio),e.xp6(5),e.Oqu(o.solicitud.clasificacion),e.xp6(5),e.Oqu(o.solicitud.zonificacion),e.xp6(5),e.Oqu(o.solicitud.nombre_comercial),e.xp6(5),e.Oqu(o.solicitud.area_local),e.xp6(5),e.Oqu(o.solicitud.aforo),e.xp6(5),e.Oqu(o.solicitud.antiguedad),e.xp6(5),e.Oqu(o.solicitud.referencia),e.xp6(5),e.Oqu(o.solicitud.empleados),e.xp6(5),e.Oqu(o.solicitud.pisos),e.xp6(7),e.Q6J("ngIf",1==o.solicitud.id_solestado),e.xp6(1),e.Q6J("ngIf",2==o.solicitud.id_solestado),e.xp6(1),e.Q6J("ngIf",1==o.solicitud.id_solestado),e.xp6(1),e.Q6J("ngIf",4==o.solicitud.id_solestado),e.xp6(1),e.Q6J("ngIf",o.isRechazarSolicitudOpen),e.xp6(1),e.Q6J("ngIf",o.isGirosOpen),e.xp6(1),e.Q6J("ngIf",o.isPisosOpen),e.xp6(1),e.Q6J("ngIf",o.isDocumentosOpen),e.xp6(1),e.Q6J("ngIf",o.isValidarOpen),e.xp6(1),e.Q6J("ngIf",o.isRiesgoOpen),e.xp6(1),e.Q6J("ngIf",o.isValidarPagoOpen))},dependencies:[c.O5,N,F,R,P,z,V,G]}),i})();function oe(i,n){1&i&&(e.TgZ(0,"div",7)(1,"div",8),e._uU(2,"No hay Registros Disponibles, Vuelva Mas Tarde"),e.qZA()())}function ne(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"button",13),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.infoSelected(a.id_solicitud))}),e._uU(17," Info "),e.qZA()()()}if(2&i){const t=n.$implicit;e.xp6(2),e.Oqu(t.ruc),e.xp6(2),e.Oqu(t.tipotramite),e.xp6(2),e.Oqu(t.razon_social),e.xp6(2),e.Oqu(t.reg_tributario),e.xp6(2),e.Oqu(t.tipo_predio),e.xp6(2),e.Oqu(t.clasificacion),e.xp6(2),e.Oqu(t.zonificacion)}}function se(i,n){if(1&i&&(e.TgZ(0,"div",9)(1,"table",10)(2,"thead")(3,"tr")(4,"th",11),e._uU(5,"RUC"),e.qZA(),e.TgZ(6,"th",11),e._uU(7,"Tipo Tramite"),e.qZA(),e.TgZ(8,"th",11),e._uU(9,"Razon Social"),e.qZA(),e.TgZ(10,"th",11),e._uU(11,"Regimen Tributario"),e.qZA(),e.TgZ(12,"th",11),e._uU(13,"Tipo Predio"),e.qZA(),e.TgZ(14,"th",11),e._uU(15,"Clas."),e.qZA(),e.TgZ(16,"th",11),e._uU(17,"Zon"),e.qZA(),e.TgZ(18,"th",11),e._uU(19,"Elegir"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,ne,18,7,"tr",12),e.ALo(22,"search"),e.qZA()()()),2&i){const t=e.oxw();e.xp6(21),e.Q6J("ngForOf",e.Dn7(22,1,t.solicitudes,"ruc",t.searchRUC))}}function re(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-informacion-solicitud",14),e.NdJ("closed",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.closeModal())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("solicitud",t.selectedSolicitud)}}let ae=(()=>{class i{constructor(t){this.adminService=t,this.solicitudes=[],this.searchRUC="",this.infoIsOpen=!1}ngOnInit(){this.getData()}infoSelected(t){this.selectedSolicitud=this.solicitudes.find(o=>o.id_solicitud==t),this.infoIsOpen=!0}closeModal(){this.infoIsOpen=!1,this.getData()}getData(){this.adminService.getSolicitudesValidadas().subscribe(t=>{this.solicitudes=t})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-riesgo"]],decls:11,vars:4,consts:[[1,"row","align-items-start"],[1,"col"],[1,"text-2xl","font-bold"],["type","search","placeholder","Busqueda por RUC","aria-label","Search",1,"form-control","me-2",3,"ngModel","ngModelChange"],["class","p-4",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"solicitud","closed",4,"ngIf"],[1,"p-4"],[1,"blankDiv"],[1,"table-responsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-info",3,"click"],[3,"solicitud","closed"]],template:function(t,o){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"h2",2),e._uU(4,"Evaluar Riesgo"),e.qZA()(),e.TgZ(5,"div",1)(6,"input",3),e.NdJ("ngModelChange",function(a){return o.searchRUC=a}),e.qZA()()(),e.TgZ(7,"div"),e.YNc(8,oe,3,0,"div",4),e.YNc(9,se,23,5,"div",5),e.qZA()(),e.YNc(10,re,1,1,"app-informacion-solicitud",6)),2&t&&(e.xp6(6),e.Q6J("ngModel",o.searchRUC),e.xp6(2),e.Q6J("ngIf",0==o.solicitudes.length),e.xp6(1),e.Q6J("ngIf",o.solicitudes.length>0),e.xp6(1),e.Q6J("ngIf",o.infoIsOpen))},dependencies:[c.sg,c.O5,r.Fj,r.JJ,r.On,f,g],styles:[".blankDiv[_ngcontent-%COMP%]{padding:40px;border-radius:10px;box-shadow:0 .46875rem 2.1875rem #04091408,0 .9375rem 1.40625rem #04091408,0 .25rem .53125rem #0409140d,0 .125rem .1875rem #04091408}"]}),i})();function ce(i,n){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",7)(6,"button",8),e._uU(7," Editar "),e.qZA(),e.TgZ(8,"button",9),e._uU(9,"Eliminar"),e.qZA()()()),2&i){const t=n.$implicit;e.xp6(2),e.Oqu(t.id_rol),e.xp6(2),e.Oqu(t.nombre)}}let le=(()=>{class i{constructor(t){this.adminService=t,this.roles=[],this.searchedString=""}ngOnInit(){this.adminService.getRoles().subscribe(t=>{this.roles=t})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-mantenimiento-rol"]],decls:20,vars:6,consts:[[1,"row","align-items-start"],[1,"col"],[1,"text-2xl","font-bold"],["type","search","placeholder","Busqueda por ID","aria-label","Search",1,"form-control","me-2",3,"ngModel","ngModelChange"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"space-x-4"],["type","button",1,"btn","btn-outline-success"],["type","button",1,"btn","btn-danger"]],template:function(t,o){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"h2",2),e._uU(4,"Mantenimiento Rol"),e.qZA()(),e.TgZ(5,"div",1)(6,"input",3),e.NdJ("ngModelChange",function(a){return o.searchedString=a}),e.qZA()()(),e.TgZ(7,"div")(8,"table",4)(9,"thead")(10,"tr")(11,"th",5),e._uU(12,"ID-Rol"),e.qZA(),e.TgZ(13,"th",5),e._uU(14,"Nombres y Apellidos"),e.qZA(),e.TgZ(15,"th",5),e._uU(16,"Opciones"),e.qZA()()(),e.TgZ(17,"tbody"),e.YNc(18,ce,10,2,"tr",6),e.ALo(19,"search"),e.qZA()()()()),2&t&&(e.xp6(6),e.Q6J("ngModel",o.searchedString),e.xp6(12),e.Q6J("ngForOf",e.Dn7(19,2,o.roles,"id_rol",o.searchedString)))},dependencies:[c.sg,r.Fj,r.JJ,r.On,g]}),i})();function de(i,n){if(1&i&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.id_rol),e.xp6(1),e.hij(" ",t.nombre," ")}}let ue=(()=>{class i{constructor(t,o){this.adminService=t,this.toast=o,this.roles=[],this.closed=new e.vpe,this.isSavingUser=!1,this.showPassword=!1,this.showRepeatedPassword=!1,this.userForm=new r.cw({username:new r.NI("",[r.kI.required]),firstPassword:new r.NI("",[r.kI.required]),lastPassword:new r.NI("",[r.kI.required]),idrol:new r.NI("",[r.kI.required])})}ngOnInit(){}onSubmit(){if(!this.ifErrors()){if(this.userForm.value.firstPassword===this.userForm.value.lastPassword){const{username:t,firstPassword:o,idrol:a}=this.userForm.value;return this.adminService.addUser({username:t,password:o,idrol:a}).subscribe(d=>{this.toast.success("Usuario Registrado"),this.closeModal()})}return this.toast.error("Las contrase\xf1as no coinciden")}return this.toast.error("Debe llenar todos los campos")}ifErrors(){return!(!Object.keys(this.getErrors())||0===Object.keys(this.getErrors()).length)}getErrors(){return Object.keys(this.userForm.controls).map(o=>this.userForm.get(o).errors).reduce((o,s)=>({...o,...s}))}closeModal(){this.closed.emit()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u),e.Y36(_._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-agregar-usuario"]],inputs:{roles:"roles"},outputs:{closed:"closed"},decls:36,vars:5,consts:[[1,"bg-black/40","h-screen","w-screen","fixed","top-0","left-0","z-10","flex","items-center","justify-center"],[1,"bg-white","rounded-lg","px-4","py-4"],[1,"text-xl","font-bold"],[3,"formGroup","ngSubmit"],[1,"px-4","pb-16","pt-4"],[1,"mb-2"],[1,"font-bold","text-sm","mb-2"],["type","text","formControlName","username",1,"w-full","focus:outline-none","border","rounded","focus:border-blue-500","px-2","py-1"],[1,"font-bold","text-sm"],[1,"relative","flex","items-center"],["formControlName","firstPassword",1,"w-full","focus:outline-none","border","rounded","focus:border-blue-500","px-2","py-1",3,"type"],["type","button",1,"absolute","right-2","w-6","h-6","text-xs","hover:bg-black/30","rounded-full",3,"click"],[1,"fa-solid","fa-eye"],["formControlName","lastPassword",1,"w-full","focus:outline-none","border","rounded","focus:border-blue-500","px-2","py-1",3,"type"],["formControlName","idrol",1,"w-full","focus:outline-none","border","rounded","focus:border-blue-500","px-2","py-1"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex","justify-between"],["type","button",1,"rounded-full","shadow","bg-red-500","text-white","px-2","py-1",3,"click"],["type","submit",1,"rounded-full","shadow","bg-cyan-500","text-white","px-2","py-1",3,"ngClass"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3,"Agregar Usuario"),e.qZA(),e.TgZ(4,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8,"Nombre Usuario"),e.qZA(),e._UZ(9,"input",7),e.qZA(),e.TgZ(10,"div",5)(11,"label",8),e._uU(12,"Contrase\xf1a"),e.qZA(),e.TgZ(13,"div",9),e._UZ(14,"input",10),e.TgZ(15,"button",11),e.NdJ("click",function(){return o.showPassword=!o.showPassword}),e._UZ(16,"i",12),e.qZA()()(),e.TgZ(17,"div",5)(18,"label",8),e._uU(19,"Repetir Contrase\xf1a"),e.qZA(),e.TgZ(20,"div",9),e._UZ(21,"input",13),e.TgZ(22,"button",11),e.NdJ("click",function(){return o.showRepeatedPassword=!o.showRepeatedPassword}),e._UZ(23,"i",12),e.qZA()()(),e.TgZ(24,"div")(25,"label",8),e._uU(26,"Rol"),e.qZA(),e.TgZ(27,"select",14)(28,"option",15),e._uU(29,"Seleccionar"),e.qZA(),e.YNc(30,de,2,2,"option",16),e.qZA()()(),e.TgZ(31,"div",17)(32,"button",18),e.NdJ("click",function(){return o.closeModal()}),e._uU(33," Cancelar "),e.qZA(),e.TgZ(34,"button",19),e._uU(35," Agregar "),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",o.userForm),e.xp6(10),e.Q6J("type",o.showPassword?"text":"password"),e.xp6(7),e.Q6J("type",o.showRepeatedPassword?"text":"password"),e.xp6(9),e.Q6J("ngForOf",o.roles),e.xp6(4),e.Q6J("ngClass",o.isSavingUser?"animate-pulse":""))},dependencies:[c.mk,c.sg,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u]}),i})();function pe(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",11)(8,"button",12),e._uU(9," Editar "),e.qZA(),e.TgZ(10,"button",13),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.deleteUser(a.id_usuario))}),e._uU(11," Eliminar "),e.qZA()()()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw();e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.usuario),e.xp6(2),e.Oqu(s.getRoleNameById(t.id_rol))}}function _e(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-agregar-usuario",14),e.NdJ("closed",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.closedModal())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("roles",t.roles)}}let ge=(()=>{class i{constructor(t,o){this.adminService=t,this.toast=o,this.searchedString="",this.users=[],this.roles=[],this.isUserModalOpen=!1}ngOnInit(){this.getUsers()}getRoleNameById(t){return this.roles.find(o=>o.id_rol===t).nombre}getUsers(){this.adminService.getRoles().subscribe(t=>{this.roles=t,this.adminService.getUsers().subscribe(o=>{console.log(o),this.users=o})})}deleteUser(t){return this.adminService.deleteUser(t).subscribe(o=>{this.getUsers(),this.toast.success("Usuario eliminado correctamente")})}closedModal(){this.isUserModalOpen=!1,this.getUsers()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u),e.Y36(_._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-usuarios"]],decls:26,vars:7,consts:[[1,"row","align-items-start"],[1,"col"],[1,"text-2xl","font-bold"],[1,"col","grid","grid-cols-12","gap-4"],["type","button",1,"btn","btn-outline-secondary","col-span-3",3,"click"],["type","search","placeholder","Busqueda por usuario","aria-label","Search",1,"form-control","col-span-9",3,"ngModel","ngModelChange"],[1,"table-responsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[3,"roles","closed",4,"ngIf"],[1,"space-x-5"],["type","button",1,"btn","btn-outline-success"],["type","button",1,"btn","btn-danger",3,"click"],[3,"roles","closed"]],template:function(t,o){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"h2",2),e._uU(4,"Gestion de Usuarios"),e.qZA()(),e.TgZ(5,"div",3)(6,"button",4),e.NdJ("click",function(){return o.isUserModalOpen=!0}),e._uU(7," + Usuario "),e.qZA(),e.TgZ(8,"input",5),e.NdJ("ngModelChange",function(a){return o.searchedString=a}),e.qZA()()(),e.TgZ(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th",8),e._uU(14,"N\xb0"),e.qZA(),e.TgZ(15,"th",8),e._uU(16,"Nombre Usuario"),e.qZA(),e.TgZ(17,"th",8),e._uU(18,"Nombre Rol"),e.qZA(),e.TgZ(19,"th",8),e._uU(20,"Opciones"),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,pe,12,3,"tr",9),e.ALo(23,"search"),e.qZA()()(),e._UZ(24,"div"),e.qZA(),e.YNc(25,_e,1,1,"app-agregar-usuario",10)),2&t&&(e.xp6(8),e.Q6J("ngModel",o.searchedString),e.xp6(14),e.Q6J("ngForOf",e.Dn7(23,3,o.users,"usuario",o.searchedString)),e.xp6(3),e.Q6J("ngIf",o.isUserModalOpen))},dependencies:[c.sg,c.O5,r.Fj,r.JJ,r.On,ue,g]}),i})(),me=(()=>{class i{constructor(t,o){this.adminService=t,this.toast=o,this.closed=new e.vpe}ngOnInit(){console.log(this.solicitud)}getFileName(){return this.file?this.file.name:"Seleccionar archivo"}closeModal(){this.closed.emit()}onFileChanged(t){this.file=t.target.files[0]}generarLicencia(){this.adminService.generarLicencia({id_solicitud:this.solicitud.id_solicitud,id_establecimiento:this.solicitud.id_establecimiento,codigo_solicitud:this.solicitud.codigo_solicitud,numero_licencia:this.numero_licencia,comentario:this.comentario,licencia:this.file,correo:this.solicitud.correo}).subscribe(t=>{this.toast.success("Licencia generada con \xe9xito"),this.closeModal()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u),e.Y36(_._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-generar-licencia"]],inputs:{solicitud:"solicitud"},outputs:{closed:"closed"},decls:30,vars:4,consts:[[1,"w-screen","h-screen","bg-black","fixed","top-0","left-0","bg-opacity-10","flex","items-center","justify-center"],[1,"rounded-lg","shadow","bg-white","flex","flex-col","items-center","px-8","space-y-4","py-4","relative"],[1,"w-6","h-6","rounded-full","bg-gray-300","absolute","right-2","top-2","text-white",3,"click"],[1,"fa-solid","fa-xmark"],[1,"font-bold","text-2xl"],[1,"formulario","space-y-4"],[1,"flex","items-center","space-x-4"],["for",""],["type","text","name","nombre","id","nombre",1,"border","focus:outline-none","px-2","py-1",3,"ngModel","ngModelChange"],[1,"flex","items-center","space-x-4","justify-between"],["for","uploadFile",1,"px-4","py-1","bg-red-900","text-white","rounded-full","cursor-pointer"],[1,"fa-solid","fa-plus"],["type","file","id","uploadFile",1,"hidden",3,"change"],[1,"text-center"],[1,"font-bold"],[1,"flex","flex-col"],["for","",1,"mb-1"],["type","text","name","nombre","id","nombre",1,"border","focus:outline-none","px-2","py-1","rounded-lg",3,"ngModel","ngModelChange"],[1,"flex","items-center","justify-center"],[1,"bg-green-600","text-white","px-4","py-1","rounded-full",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.closeModal()}),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"span",4),e._uU(5,"Generar Resoluci\xf3n"),e.qZA(),e.TgZ(6,"span",4),e._uU(7),e.qZA(),e.TgZ(8,"div",5)(9,"div",6)(10,"label",7),e._uU(11,"Numero de licencia: "),e.qZA(),e.TgZ(12,"input",8),e.NdJ("ngModelChange",function(a){return o.numero_licencia=a}),e.qZA()(),e.TgZ(13,"div",9)(14,"label",7),e._uU(15,"Licencia: "),e.qZA(),e.TgZ(16,"label",10),e._uU(17," Subir "),e._UZ(18,"i",11),e.qZA(),e.TgZ(19,"input",12),e.NdJ("change",function(a){return o.onFileChanged(a)}),e.qZA()(),e.TgZ(20,"div",13)(21,"span",14),e._uU(22),e.qZA()(),e.TgZ(23,"div",15)(24,"label",16),e._uU(25,"Comentarios (opcional): "),e.qZA(),e.TgZ(26,"textarea",17),e.NdJ("ngModelChange",function(a){return o.comentario=a}),e.qZA()(),e.TgZ(27,"div",18)(28,"button",19),e.NdJ("click",function(){return o.generarLicencia()}),e._uU(29," Generar "),e.qZA()()()()()),2&t&&(e.xp6(7),e.Oqu(o.solicitud.codigo_solicitud),e.xp6(5),e.Q6J("ngModel",o.numero_licencia),e.xp6(10),e.hij(" ",o.getFileName()," "),e.xp6(4),e.Q6J("ngModel",o.comentario))},dependencies:[r.Fj,r.JJ,r.On]}),i})();function fe(i,n){1&i&&(e.TgZ(0,"div",7)(1,"div",8),e._uU(2,"No hay Registros Disponibles, Vuelva Mas Tarde"),e.qZA()())}function he(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"button",13),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.infoSelected(a.id_solicitud))}),e._uU(17," Info "),e.qZA()()()}if(2&i){const t=n.$implicit;e.xp6(2),e.Oqu(t.ruc),e.xp6(2),e.Oqu(t.tipotramite),e.xp6(2),e.Oqu(t.razon_social),e.xp6(2),e.Oqu(t.reg_tributario),e.xp6(2),e.Oqu(t.tipo_predio),e.xp6(2),e.Oqu(t.clasificacion),e.xp6(2),e.Oqu(t.zonificacion)}}function Ze(i,n){if(1&i&&(e.TgZ(0,"div",9)(1,"table",10)(2,"thead")(3,"tr")(4,"th",11),e._uU(5,"RUC"),e.qZA(),e.TgZ(6,"th",11),e._uU(7,"Tipo Tramite"),e.qZA(),e.TgZ(8,"th",11),e._uU(9,"Razon Social"),e.qZA(),e.TgZ(10,"th",11),e._uU(11,"Regimen Tributario"),e.qZA(),e.TgZ(12,"th",11),e._uU(13,"Tipo Predio"),e.qZA(),e.TgZ(14,"th",11),e._uU(15,"Clas."),e.qZA(),e.TgZ(16,"th",11),e._uU(17,"Zon"),e.qZA(),e.TgZ(18,"th",11),e._uU(19,"Elegir"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,he,18,7,"tr",12),e.ALo(22,"search"),e.qZA()()()),2&i){const t=e.oxw();e.xp6(21),e.Q6J("ngForOf",e.Dn7(22,1,t.solicitudes,"ruc",t.searchRUC))}}function be(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-generar-licencia",14),e.NdJ("closed",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.closeModal())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("solicitud",t.selectedSolicitud)}}let Te=(()=>{class i{constructor(t){this.adminService=t,this.solicitudes=[],this.searchRUC="",this.infoIsOpen=!1}ngOnInit(){this.getData()}getData(){this.adminService.getSolicitudesPagadasValidadas().subscribe(t=>{this.solicitudes=t})}closeModal(){this.infoIsOpen=!1,this.getData()}infoSelected(t){this.selectedSolicitud=this.solicitudes.find(o=>o.id_solicitud==t),this.infoIsOpen=!0}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-informes-resoluciones"]],decls:11,vars:3,consts:[[1,"row","align-items-start"],[1,"col"],[1,"text-2xl","font-bold"],["type","search","placeholder","Busqueda por RUC","aria-label","Search",1,"form-control","me-2"],["class","p-4",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"solicitud","closed",4,"ngIf"],[1,"p-4"],[1,"blankDiv"],[1,"table-responsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-info",3,"click"],[3,"solicitud","closed"]],template:function(t,o){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"h2",2),e._uU(4,"Emisi\xf3n de Informes y Resoluciones"),e.qZA()(),e.TgZ(5,"div",1),e._UZ(6,"input",3),e.qZA()(),e.TgZ(7,"div"),e.YNc(8,fe,3,0,"div",4),e.YNc(9,Ze,23,5,"div",5),e.qZA()(),e.YNc(10,be,1,1,"app-generar-licencia",6)),2&t&&(e.xp6(8),e.Q6J("ngIf",0==o.solicitudes.length),e.xp6(1),e.Q6J("ngIf",o.solicitudes.length>0),e.xp6(1),e.Q6J("ngIf",o.infoIsOpen))},dependencies:[c.sg,c.O5,me,g],styles:[".blankDiv[_ngcontent-%COMP%]{padding:40px;border-radius:10px;box-shadow:0 .46875rem 2.1875rem #04091408,0 .9375rem 1.40625rem #04091408,0 .25rem .53125rem #0409140d,0 .125rem .1875rem #04091408}"]}),i})();function ve(i,n){1&i&&(e.TgZ(0,"div",7)(1,"div",8),e._uU(2,"No hay Registros Disponibles, Vuelva Mas Tarde"),e.qZA()())}function xe(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"button",13),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.infoSelected(a.id_solicitud))}),e._uU(17," Info "),e.qZA()()()}if(2&i){const t=n.$implicit;e.xp6(2),e.Oqu(t.ruc),e.xp6(2),e.Oqu(t.tipotramite),e.xp6(2),e.Oqu(t.razon_social),e.xp6(2),e.Oqu(t.reg_tributario),e.xp6(2),e.Oqu(t.tipo_predio),e.xp6(2),e.Oqu(t.clasificacion),e.xp6(2),e.Oqu(t.zonificacion)}}function qe(i,n){if(1&i&&(e.TgZ(0,"div",9)(1,"table",10)(2,"thead")(3,"tr")(4,"th",11),e._uU(5,"RUC"),e.qZA(),e.TgZ(6,"th",11),e._uU(7,"Tipo Tramite"),e.qZA(),e.TgZ(8,"th",11),e._uU(9,"Razon Social"),e.qZA(),e.TgZ(10,"th",11),e._uU(11,"Regimen Tributario"),e.qZA(),e.TgZ(12,"th",11),e._uU(13,"Tipo Predio"),e.qZA(),e.TgZ(14,"th",11),e._uU(15,"Clas."),e.qZA(),e.TgZ(16,"th",11),e._uU(17,"Zon"),e.qZA(),e.TgZ(18,"th",11),e._uU(19,"Elegir"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,xe,18,7,"tr",12),e.ALo(22,"search"),e.qZA()()()),2&i){const t=e.oxw();e.xp6(21),e.Q6J("ngForOf",e.Dn7(22,1,t.solicitudes,"ruc",t.searchRUC))}}function Ae(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-informacion-solicitud",14),e.NdJ("closed",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.closeModal())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("solicitud",t.selectedSolicitud)}}let Ce=(()=>{class i{constructor(t){this.adminService=t,this.solicitudes=[],this.infoIsOpen=!1,this.searchRUC=""}ngOnInit(){this.getData()}infoSelected(t){this.selectedSolicitud=this.solicitudes.find(o=>o.id_solicitud==t),this.infoIsOpen=!0}getData(){this.adminService.getSolicitudesRegistradas().subscribe(t=>{this.solicitudes=t})}closeModal(){this.infoIsOpen=!1,this.getData()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-validar-solicitudes"]],decls:11,vars:4,consts:[[1,"row","align-items-start"],[1,"col"],[1,"text-2xl","font-bold"],["type","search","placeholder","Busqueda por RUC","aria-label","Search",1,"form-control","me-2",3,"ngModel","ngModelChange"],["class","p-4",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"solicitud","closed",4,"ngIf"],[1,"p-4"],[1,"blankDiv"],[1,"table-responsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-info",3,"click"],[3,"solicitud","closed"]],template:function(t,o){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"h2",2),e._uU(4,"Validar Solicitud"),e.qZA()(),e.TgZ(5,"div",1)(6,"input",3),e.NdJ("ngModelChange",function(a){return o.searchRUC=a}),e.qZA()()(),e.TgZ(7,"div"),e.YNc(8,ve,3,0,"div",4),e.YNc(9,qe,23,5,"div",5),e.qZA()(),e.YNc(10,Ae,1,1,"app-informacion-solicitud",6)),2&t&&(e.xp6(6),e.Q6J("ngModel",o.searchRUC),e.xp6(2),e.Q6J("ngIf",0==o.solicitudes.length),e.xp6(1),e.Q6J("ngIf",o.solicitudes.length>0),e.xp6(1),e.Q6J("ngIf",o.infoIsOpen))},dependencies:[c.sg,c.O5,r.Fj,r.JJ,r.On,f,g],styles:[".blankDiv[_ngcontent-%COMP%]{padding:40px;border-radius:10px;box-shadow:0 .46875rem 2.1875rem #04091408,0 .9375rem 1.40625rem #04091408,0 .25rem .53125rem #0409140d,0 .125rem .1875rem #04091408}"]}),i})();function Ue(i,n){1&i&&(e.TgZ(0,"div",7)(1,"div",8),e._uU(2,"No hay Registros Disponibles, Vuelva Mas Tarde"),e.qZA()())}function we(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"button",13),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.infoSelected(a.id_solicitud))}),e._uU(17," Info "),e.qZA()()()}if(2&i){const t=n.$implicit;e.xp6(2),e.Oqu(t.ruc),e.xp6(2),e.Oqu(t.tipotramite),e.xp6(2),e.Oqu(t.razon_social),e.xp6(2),e.Oqu(t.reg_tributario),e.xp6(2),e.Oqu(t.tipo_predio),e.xp6(2),e.Oqu(t.clasificacion),e.xp6(2),e.Oqu(t.zonificacion)}}function Oe(i,n){if(1&i&&(e.TgZ(0,"div",9)(1,"table",10)(2,"thead")(3,"tr")(4,"th",11),e._uU(5,"RUC"),e.qZA(),e.TgZ(6,"th",11),e._uU(7,"Tipo Tramite"),e.qZA(),e.TgZ(8,"th",11),e._uU(9,"Razon Social"),e.qZA(),e.TgZ(10,"th",11),e._uU(11,"Regimen Tributario"),e.qZA(),e.TgZ(12,"th",11),e._uU(13,"Tipo Predio"),e.qZA(),e.TgZ(14,"th",11),e._uU(15,"Clas."),e.qZA(),e.TgZ(16,"th",11),e._uU(17,"Zon"),e.qZA(),e.TgZ(18,"th",11),e._uU(19,"Elegir"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,we,18,7,"tr",12),e.ALo(22,"search"),e.qZA()()()),2&i){const t=e.oxw();e.xp6(21),e.Q6J("ngForOf",e.Dn7(22,1,t.solicitudes,"ruc",t.searchedString))}}function ye(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-informacion-solicitud",14),e.NdJ("closed",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.closeModal())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("solicitud",t.selectedSolicitud)}}const Se=[{path:"",component:C,children:[{path:"validar-pago",component:(()=>{class i{constructor(t){this.adminService=t,this.solicitudes=[],this.infoIsOpen=!1,this.searchedString=""}ngOnInit(){this.getData()}infoSelected(t){this.selectedSolicitud=this.solicitudes.find(o=>o.id_solicitud==t),this.infoIsOpen=!0}getData(){this.adminService.getSolicitudesPagadas().subscribe(t=>{this.solicitudes=t})}closeModal(){this.infoIsOpen=!1,this.getData()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-validar-pago"]],decls:11,vars:4,consts:[[1,"row","align-items-start"],[1,"col"],[1,"text-2xl","font-bold"],["type","search","placeholder","Busqueda por RUC","aria-label","Search",1,"form-control","me-2",3,"ngModel","ngModelChange"],["class","p-4",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"solicitud","closed",4,"ngIf"],[1,"p-4"],[1,"blankDiv"],[1,"table-responsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-info",3,"click"],[3,"solicitud","closed"]],template:function(t,o){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"h2",2),e._uU(4,"Validar Pago"),e.qZA()(),e.TgZ(5,"div",1)(6,"input",3),e.NdJ("ngModelChange",function(a){return o.searchedString=a}),e.qZA()()(),e.TgZ(7,"div"),e.YNc(8,Ue,3,0,"div",4),e.YNc(9,Oe,23,5,"div",5),e.qZA()(),e.YNc(10,ye,1,1,"app-informacion-solicitud",6)),2&t&&(e.xp6(6),e.Q6J("ngModel",o.searchedString),e.xp6(2),e.Q6J("ngIf",0==o.solicitudes.length),e.xp6(1),e.Q6J("ngIf",o.solicitudes.length>0),e.xp6(1),e.Q6J("ngIf",o.infoIsOpen))},dependencies:[c.sg,c.O5,r.Fj,r.JJ,r.On,f,g],styles:[".blankDiv[_ngcontent-%COMP%]{padding:40px;border-radius:10px;box-shadow:0 .46875rem 2.1875rem #04091408,0 .9375rem 1.40625rem #04091408,0 .25rem .53125rem #0409140d,0 .125rem .1875rem #04091408}"]}),i})()},{path:"resoluciones",component:Te},{path:"validar-solicitud",component:Ce},{path:"mantenimiento-rol",component:le},{path:"usuarios",component:ge},{path:"inspeccion",component:M},{path:"riesgo",component:ae}]}];let Ie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.Bz.forChild(Se),m.Bz]}),i})(),Me=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[c.ez,Ie,r.UX,r.u5]}),i})()}}]);