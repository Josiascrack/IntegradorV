"use strict";(self.webpackChunkapp_IntegradorV=self.webpackChunkapp_IntegradorV||[]).push([[30],{4030:(A,p,c)=>{c.r(p),c.d(p,{EstadoModule:()=>x});var l=c(6571),t=c(4263),r=c(6323),d=c(4702),g=c(2610),u=c(3348);function h(e,i){if(1&e&&(t.TgZ(0,"div",11)(1,"div",12),t._uU(2,"Busque un Codigo para consultar su estado."),t.qZA()()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngClass",o.isSearching?"animate-bounce":"")}}function m(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(3);return t.KtG(s.goToUpload())}),t._UZ(1,"i",20),t.qZA()}}function b(e,i){if(1&e&&(t.TgZ(0,"tr")(1,"th",17),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t.YNc(8,m,2,0,"button",18),t.qZA()()),2&e){const o=i.$implicit,n=i.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(o.tipotramite),t.xp6(2),t.Oqu(o.nombre),t.xp6(2),t.Q6J("ngIf",3==o.id_solestado)}}function _(e,i){if(1&e&&(t.TgZ(0,"div",13)(1,"table",14)(2,"thead")(3,"tr")(4,"th",15),t._uU(5,"N\xb0 Solicitud"),t.qZA(),t.TgZ(6,"th",15),t._uU(7,"Tipo de Solicitud"),t.qZA(),t.TgZ(8,"th",15),t._uU(9,"Estado"),t.qZA(),t._UZ(10,"th",15),t.qZA()(),t.TgZ(11,"tbody"),t.YNc(12,b,9,4,"tr",16),t.qZA()()()),2&e){const o=t.oxw();t.xp6(12),t.Q6J("ngForOf",o.solicitudes)}}let f=(()=>{class e{constructor(o,n,s){this.router=o,this.consultasService=n,this.toastr=s,this.solicitudes=[],this.codigo="",this.isSearching=!1}ngOnInit(){}goBack(){this.router.navigate(["/"])}searchByRuc(){this.consultasService.getSolicitudesByRuc(this.codigo).subscribe(o=>{this.solicitudes=o,console.log(this.solicitudes)})}searchByCodigo(){10==this.codigo.length?(this.isSearching=!0,this.solicitudes=[],this.consultasService.getSolicitudesByCodigo(this.codigo).subscribe(o=>{0==o.length?(this.isSearching=!1,this.toastr.error("No se encontraron resultados")):this.solicitudes=o})):this.toastr.error("El c\xf3digo debe tener 10 d\xedgitos")}goToUpload(){console.log(this.codigo),this.router.navigate(["/estado-tramite/detalles",this.codigo])}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.F0),t.Y36(d.H),t.Y36(g._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-consultar"]],decls:16,vars:3,consts:[[1,"barranavegacioninicio","mb-2","mt-0",2,"background-color","#0167a7","color","white","text-align","center"],[1,"container-sm","shadow-sm","p-20","mb-5","bg-body","rounded","m-5","mx-auto",2,"max-width","800px","height","auto"],[1,"row"],[1,"col-12","fs-5","bd-highlight",2,"background-color","#0167a7","color","white"],[1,"d-flex","mt-2"],["type","search","placeholder","Buscar","aria-label","Search",1,"form-control","me-2",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-outline-success",3,"click"],["class","p-4",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"mb-2"],["type","button",1,"btn","btn-info",2,"justify-content","center",3,"click"],[1,"p-4"],[1,"blankDiv",3,"ngClass"],[1,"table-responsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["class","rounded shadow bg-green-600 text-white w-8 h-8",3,"click",4,"ngIf"],[1,"rounded","shadow","bg-green-600","text-white","w-8","h-8",3,"click"],[1,"fa-solid","fa-upload"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t._uU(1," Consultar Estado\n"),t.qZA(),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3),t._uU(5," Consultar "),t.qZA()(),t.TgZ(6,"div",2)(7,"div",4)(8,"input",5),t.NdJ("ngModelChange",function(a){return n.codigo=a}),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return n.searchByCodigo()}),t._uU(10," Buscar "),t.qZA()(),t.YNc(11,h,3,1,"div",7),t.YNc(12,_,13,1,"div",8),t.TgZ(13,"div",9)(14,"button",10),t.NdJ("click",function(){return n.goBack()}),t._uU(15," Volver a la Pagina de inicio "),t.qZA()()()()),2&o&&(t.xp6(8),t.Q6J("ngModel",n.codigo),t.xp6(3),t.Q6J("ngIf",0==n.solicitudes.length),t.xp6(1),t.Q6J("ngIf",n.solicitudes.length>0))},dependencies:[l.mk,l.sg,l.O5,u.Fj,u.JJ,u.On],styles:[".blankDiv[_ngcontent-%COMP%]{padding:40px;border-radius:10px;box-shadow:0 .46875rem 2.1875rem #04091408,0 .9375rem 1.40625rem #04091408,0 .25rem .53125rem #0409140d,0 .125rem .1875rem #04091408}"]}),e})(),Z=(()=>{class e{constructor(o,n){this.consultasService=o,this.toast=n,this.closed=new t.vpe,this.isValidating=!1}ngOnInit(){}closeModal(o){this.closed.emit(o)}getFileName(){return this.file?this.file.name:"Seleccionar archivo"}chooseFile(o){this.file=o.target.files[0],o.target.value=""}uploadFile(){this.isValidating=!0,this.consultasService.uploadPagoVoucher(this.codigo,this.file).subscribe(o=>{console.log(o),this.toast.success("Voucher subido correctamente"),this.closeModal(!0)})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d.H),t.Y36(g._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-subir-voucher"]],inputs:{codigo:"codigo"},outputs:{closed:"closed"},decls:15,vars:4,consts:[[1,"bg-black","bg-opacity-10","fixed","top-0","left-0","h-screen","w-screen","z-10","flex","items-center","justify-center"],[1,"rounded-lg","shadow","bg-white","p-4","flex","flex-col","items-center","justify-center","space-y-4"],[1,"text-2xl","font-bold"],[1,"flex","flex-col","items-center","space-y-4"],["for","uploadInput",1,"bg-purple-800","rounded-full","px-4","py-1","shadow","text-white"],["type","file","hidden","","id","uploadInput",3,"change"],[1,"space-x-4","flex","justify-center","items-center"],[1,"rounded-full","px-4","py-1","bg-green-600","text-white","font-bold",3,"ngClass","click"],[1,"rounded-full","px-4","py-1","bg-red-600","text-white","font-bold",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"label",4),t._uU(6," Seleccionar "),t.qZA(),t.TgZ(7,"input",5),t.NdJ("change",function(a){return n.chooseFile(a)}),t.qZA(),t.TgZ(8,"div"),t._uU(9),t.qZA()(),t.TgZ(10,"div",6)(11,"button",7),t.NdJ("click",function(){return n.uploadFile()}),t._uU(12),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){return n.closeModal(!1)}),t._uU(14," Cancelar "),t.qZA()()()()),2&o&&(t.xp6(3),t.hij("Subir Voucher a ",n.codigo,""),t.xp6(6),t.Oqu(n.getFileName()),t.xp6(2),t.Q6J("ngClass",n.isValidating?"animate-pulse":""),t.xp6(1),t.hij(" ",n.isValidating?"Subiendo":"Subir"," "))},dependencies:[l.mk]}),e})();function v(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"app-subir-voucher",13),t.NdJ("closed",function(s){t.CHM(o);const a=t.oxw();return t.KtG(a.closedModal(s))}),t.qZA()}if(2&e){const o=t.oxw();t.Q6J("codigo",o.solicitud.codigo_solicitud)}}const C=[{path:"",children:[{path:"consultar",component:f},{path:"detalles/:codigo",component:(()=>{class e{constructor(o,n,s){this.router=o,this.aRoute=n,this.consultasService=s,this.isUploadOpen=!1,this.solicitud={}}ngOnInit(){console.log(this.router),this.aRoute.params.subscribe(o=>{this.consultasService.getSolicitudByCodigoEvaluada(o.codigo).subscribe(n=>{Object.keys(n).length>0?(console.log("existe"),this.solicitud=n):this.goBack()})})}goHome(){this.router.navigate(["/"])}goBack(){this.router.navigate(["/estado-tramite/consultar"])}goNext(){this.isUploadOpen=!0}closedModal(o){o?this.goHome():this.isUploadOpen=!1}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.F0),t.Y36(r.gz),t.Y36(d.H))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-detalles"]],decls:48,vars:6,consts:[[1,"barranavegacioninicio","mb-2","mt-0",2,"background-color","#0167a7","color","white","text-align","center"],[1,"container-sm","shadow-sm","p-20","mb-5","bg-body","rounded","m-5","mx-auto",2,"max-width","800px","height","auto"],[1,"row"],[1,"col-12","fs-5","bd-highlight",2,"background-color","#0167a7","color","white"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","row"],[1,"mb-2",2,"display","flex","justify-content","space-between"],["type","button",1,"btn","btn-info",3,"click"],["type","button",1,"btn","btn-info",2,"margin-right","4px",3,"click"],["type","button",1,"btn","btn-success",2,"margin-left","4px",3,"click"],[3,"codigo","closed",4,"ngIf"],[3,"codigo","closed"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t._uU(1," Consultar Estado\n"),t.qZA(),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3),t._uU(5," Detalles "),t.qZA()(),t.TgZ(6,"div",2)(7,"div",4)(8,"table",5)(9,"thead")(10,"tr")(11,"th",6),t._uU(12,"Codigo Solicitud"),t.qZA(),t.TgZ(13,"th",6),t._uU(14,"Tipo de Solicitud"),t.qZA(),t.TgZ(15,"th",6),t._uU(16,"Estado"),t.qZA()()(),t.TgZ(17,"tbody")(18,"tr")(19,"th",7),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.qZA()()()()(),t.TgZ(25,"div",4)(26,"table",5)(27,"thead")(28,"tr")(29,"th",6),t._uU(30,"Nivel de Riesgo"),t.qZA(),t.TgZ(31,"th",6),t._uU(32,"Tasa de Pago"),t.qZA()()(),t.TgZ(33,"tbody")(34,"tr")(35,"td"),t._uU(36),t.qZA(),t.TgZ(37,"td"),t._uU(38),t.qZA()()()()(),t.TgZ(39,"div",8)(40,"button",9),t.NdJ("click",function(){return n.goHome()}),t._uU(41," Volver a la pagina de Inicio "),t.qZA(),t.TgZ(42,"div")(43,"button",10),t.NdJ("click",function(){return n.goBack()}),t._uU(44," Atras "),t.qZA(),t.TgZ(45,"button",11),t.NdJ("click",function(){return n.goNext()}),t._uU(46," Proceder con el pago "),t.qZA()()()()(),t.YNc(47,v,1,1,"app-subir-voucher",12)),2&o&&(t.xp6(20),t.Oqu(n.solicitud.codigo_solicitud),t.xp6(2),t.Oqu(n.solicitud.tipotramite),t.xp6(2),t.Oqu(n.solicitud.estado_nombre),t.xp6(12),t.Oqu(n.solicitud.riesgo_nombre),t.xp6(2),t.hij("S/.",n.solicitud.tasa,""),t.xp6(9),t.Q6J("ngIf",n.isUploadOpen))},dependencies:[l.O5,Z]}),e})()},{path:"pago",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-pago"]],decls:18,vars:0,consts:[[1,"barranavegacioninicio","mb-2","mt-0",2,"background-color","#0167A7","color","white","text-align","center"],[1,"container-sm","shadow-sm","p-20","mb-5","bg-body","rounded","m-5","mx-auto",2,"width","800px","height","auto"],[1,"row"],[1,"col-12","fs-5","bd-highlight",2,"background-color","#0167A7","color","white"],[1,"col-12",2,"background-color","rgb(255, 255, 255)"],[1,"container"],[1,"col","order-last"],["type","button",1,"btn","btn-success"],[1,"col","order-first"],["type","button",1,"btn","btn-info"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t._uU(1," Consultar Estado\n"),t.qZA(),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3),t._uU(5,"Pago"),t.qZA()(),t.TgZ(6,"div",2)(7,"div",4)(8,"div"),t._uU(9," Porfavor Realizar el pago para poder continuar con el procedimiento "),t.qZA()(),t.TgZ(10,"div",5)(11,"div",2)(12,"div",6)(13,"button",7),t._uU(14,"Proceder con el pago"),t.qZA()(),t.TgZ(15,"div",8)(16,"button",9),t._uU(17,"Volver a la pagina de Inicio"),t.qZA()()()()()())}}),e})()},{path:"**",redirectTo:"consultar"}]}];let T=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.Bz.forChild(C)]}),e})(),x=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,T,u.u5]}),e})()}}]);